!function(){"use strict";angular.module("myUrlShortener",["ngResource"]).config(["$locationProvider","$httpProvider","$provide",function(a){a.html5Mode(!1).hashPrefix("!")}]).run(["$http","$rootScope",function(a,b){a.get("/api/config").then(function(a){var c=a.data;if(b.baseURL=c.baseURL,!document.getElementById("facebook-jssdk")){var d=document.getElementsByTagName("script")[0],e=document.createElement("script");e.id="facebook-jssdk",e.src="//connect.facebook.net/en_US/sdk.js",d.parentNode.insertBefore(e,d)}}),b.$on("loggedIn",function(a,c,d){b.isLoggedIn=!0,b.userID=c,b.username=d})}]).directive("ngDelete",[function(){return{replace:!0,templateUrl:"templates/delete.html",scope:{onConfirm:"&"}}}])}(),function(){"use strict";function a(a,b,c){var d=this;d.model={},d.list=[],d.init=function(b,c){b&&(a.$emit("loggedIn",b,c),d.find())},d.create=function(){var b={url:d.model.url};c.save(b,function(b){d.list.splice(0,0,b),d.model={},a.frm.$setPristine()})},d.find=function(){c.query(function(a){d.list=a})},d.remove=function(a){a.$remove(function(){var b=d.list.indexOf(a);console.log(b),d.list.splice(b,1)})},d.login=function(){b.open("http://localhost:3000/auth/facebook","login","width=600,height=400")}}angular.module("myUrlShortener").controller("MainController",["$scope","$window","MainService",a])}(),function(){"use strict";function a(a){return a("api/shortener/:shortUrlId",{shortUrlId:"@_id"},{update:{method:"PUT"}})}angular.module("myUrlShortener").service("MainService",["$resource",a])}();